[gd_scene load_steps=29 format=2]

[ext_resource path="res://TrainingHall/TrainingHall.png" type="Texture" id=1]
[ext_resource path="res://TrainingHall/training_hall.gd" type="Script" id=2]
[ext_resource path="res://Box/Box.tscn" type="PackedScene" id=3]
[ext_resource path="res://UI/GameCountDown/GameCountDown.tscn" type="PackedScene" id=4]
[ext_resource path="res://GameControl/game_control.gd" type="Script" id=5]
[ext_resource path="res://Font/Font-60.tres" type="DynamicFont" id=6]
[ext_resource path="res://GameControl/sprites/time_day.png" type="Texture" id=7]
[ext_resource path="res://GameControl/sprites/box_spawn.png" type="Texture" id=8]
[ext_resource path="res://GameControl/sprites/weather_rain.png" type="Texture" id=9]
[ext_resource path="res://GameControl/sprites/weather_sunny.png" type="Texture" id=10]
[ext_resource path="res://GameControl/sprites/weather_thunderstrom.png" type="Texture" id=11]
[ext_resource path="res://GameControl/sprites/box_destroy.png" type="Texture" id=12]
[ext_resource path="res://GameControl/sprites/box_respawn.png" type="Texture" id=13]
[ext_resource path="res://GameControl/sprites/time_night.png" type="Texture" id=14]
[ext_resource path="res://TrainingHall/pozadi/day.png" type="Texture" id=15]
[ext_resource path="res://Particles/Kapka.png" type="Texture" id=16]
[ext_resource path="res://TrainingHall/pozadi/sunny.png" type="Texture" id=17]
[ext_resource path="res://TrainingHall/pozadi/rain.png" type="Texture" id=18]
[ext_resource path="res://TrainingHall/pozadi/night.png" type="Texture" id=19]
[ext_resource path="res://TrainingHall/pozadi/thunderstorm.png" type="Texture" id=20]
[ext_resource path="res://TrainingHall/Lightning.png" type="Texture" id=21]
[ext_resource path="res://Sound/Sounds/in_game.mp3" type="AudioStream" id=22]

[sub_resource type="SphereMesh" id=3]
radius = 7.5
height = 15.0
radial_segments = 150
rings = 1

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 960, 141.5 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 289.5, 468 )

[sub_resource type="Gradient" id=4]
offsets = PoolRealArray( 0, 0.858447, 0.977169, 1 )
colors = PoolColorArray( 1, 1, 1, 1, 1, 1, 1, 1, 0.785388, 0.785388, 0.785388, 0.214612, 1, 1, 1, 0 )

[sub_resource type="GradientTexture" id=5]
gradient = SubResource( 4 )

[sub_resource type="ParticlesMaterial" id=6]
emission_shape = 2
emission_box_extents = Vector3( 200, 1, 1 )
flag_disable_z = true
gravity = Vector3( 0, 98, 0 )
initial_velocity_random = 1.0
orbit_velocity = 0.0
orbit_velocity_random = 0.0
linear_accel = 15.79
scale = 0.95
scale_random = 1.0
color_ramp = SubResource( 5 )
hue_variation = -0.12
hue_variation_random = 0.64

[node name="TrainingHall" type="Node2D" groups=["Level"]]
script = ExtResource( 2 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -1

[node name="Day" type="Sprite" parent="CanvasLayer"]
visible = false
position = Vector2( 960, 540 )
scale = Vector2( 5, 5 )
texture = ExtResource( 15 )

[node name="Sunny" type="Sprite" parent="CanvasLayer"]
visible = false
position = Vector2( 960, 540 )
scale = Vector2( 5, 5 )
texture = ExtResource( 17 )

[node name="Rain" type="Sprite" parent="CanvasLayer"]
visible = false
position = Vector2( 960, 540 )
scale = Vector2( 5, 5 )
texture = ExtResource( 18 )

[node name="Thunderstorm" type="Sprite" parent="CanvasLayer"]
visible = false
position = Vector2( 960, 540 )
scale = Vector2( 5, 5 )
texture = ExtResource( 20 )

[node name="Night_1" type="Sprite" parent="CanvasLayer"]
position = Vector2( 960, 540 )
scale = Vector2( 5, 5 )
texture = ExtResource( 19 )

[node name="House" type="Sprite" parent="CanvasLayer"]
position = Vector2( 960, 544 )
scale = Vector2( 5, 5 )
texture = ExtResource( 1 )

[node name="Lightning" type="Sprite" parent="CanvasLayer"]
position = Vector2( 1776, 432 )
scale = Vector2( 5, 5 )
texture = ExtResource( 21 )

[node name="GameCountDown" parent="." instance=ExtResource( 4 )]

[node name="GameControl" type="CanvasLayer" parent="."]
script = ExtResource( 5 )

[node name="Control" type="Control" parent="GameControl"]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Time" type="Label" parent="GameControl/Control"]
margin_left = 272.0
margin_top = 821.0
margin_right = 560.0
margin_bottom = 881.0
focus_neighbour_bottom = NodePath("../JoinButton")
custom_colors/font_color_shadow = Color( 0, 0, 0, 1 )
custom_constants/shadow_offset_x = 3
custom_constants/shadow_offset_y = 3
custom_fonts/font = ExtResource( 6 )
text = "gc_time"
align = 1
valign = 1

[node name="Dot" type="MeshInstance2D" parent="GameControl/Control"]
position = Vector2( 611, 944 )
scale = Vector2( 1.5, 1.5 )
mesh = SubResource( 3 )

[node name="Dot2" type="MeshInstance2D" parent="GameControl/Control"]
position = Vector2( 1150, 944 )
scale = Vector2( 1.5, 1.5 )
mesh = SubResource( 3 )

[node name="Weather" type="Label" parent="GameControl/Control"]
margin_left = 656.0
margin_top = 816.0
margin_right = 1104.0
margin_bottom = 876.0
focus_neighbour_bottom = NodePath("../JoinButton")
custom_colors/font_color_shadow = Color( 0, 0, 0, 1 )
custom_constants/shadow_offset_x = 3
custom_constants/shadow_offset_y = 3
custom_fonts/font = ExtResource( 6 )
text = "gc_weather"
align = 1
valign = 1

[node name="Boxes" type="Label" parent="GameControl/Control"]
margin_left = 1200.0
margin_top = 816.0
margin_right = 1648.0
margin_bottom = 876.0
focus_neighbour_bottom = NodePath("../JoinButton")
custom_colors/font_color_shadow = Color( 0, 0, 0, 1 )
custom_constants/shadow_offset_x = 3
custom_constants/shadow_offset_y = 3
custom_fonts/font = ExtResource( 6 )
text = "gc_boxes"
align = 1
valign = 1

[node name="time_Day" type="TextureButton" parent="GameControl/Control"]
margin_left = 272.0
margin_top = 880.0
margin_right = 400.0
margin_bottom = 1008.0
texture_normal = ExtResource( 7 )
expand = true
stretch_mode = 5

[node name="time_Night" type="TextureButton" parent="GameControl/Control"]
margin_left = 432.0
margin_top = 880.0
margin_right = 560.0
margin_bottom = 1008.0
texture_normal = ExtResource( 14 )
expand = true
stretch_mode = 5

[node name="weather_Sunny" type="TextureButton" parent="GameControl/Control"]
margin_left = 656.0
margin_top = 880.0
margin_right = 784.0
margin_bottom = 1008.0
texture_normal = ExtResource( 10 )
expand = true
stretch_mode = 5

[node name="weather_Rain" type="TextureButton" parent="GameControl/Control"]
margin_left = 816.0
margin_top = 880.0
margin_right = 944.0
margin_bottom = 1008.0
texture_normal = ExtResource( 9 )
expand = true
stretch_mode = 5

[node name="weather_Thunderstorm" type="TextureButton" parent="GameControl/Control"]
margin_left = 976.0
margin_top = 880.0
margin_right = 1104.0
margin_bottom = 1008.0
texture_normal = ExtResource( 11 )
expand = true
stretch_mode = 5

[node name="Box_spawn" type="TextureButton" parent="GameControl/Control"]
margin_left = 1200.0
margin_top = 880.0
margin_right = 1328.0
margin_bottom = 1008.0
texture_normal = ExtResource( 8 )
expand = true
stretch_mode = 5

[node name="Box_respawn" type="TextureButton" parent="GameControl/Control"]
margin_left = 1360.0
margin_top = 880.0
margin_right = 1488.0
margin_bottom = 1008.0
texture_normal = ExtResource( 13 )
expand = true
stretch_mode = 5

[node name="Box_destroy" type="TextureButton" parent="GameControl/Control"]
margin_left = 1520.0
margin_top = 880.0
margin_right = 1648.0
margin_bottom = 1008.0
texture_normal = ExtResource( 12 )
expand = true

[node name="Timer" type="Timer" parent="GameControl"]
wait_time = 2.5
one_shot = true

[node name="Floor" type="StaticBody2D" parent="."]
position = Vector2( 931, 452 )
collision_layer = 4
collision_mask = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor"]
position = Vector2( 30, 493 )
shape = SubResource( 1 )

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Floor"]
position = Vector2( 1278.5, 152 )
shape = SubResource( 2 )

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Floor"]
position = Vector2( -1221, 159 )
shape = SubResource( 2 )

[node name="SpawnPosition0" type="Position2D" parent="."]
position = Vector2( 279, 328 )

[node name="SpawnPosition1" type="Position2D" parent="."]
position = Vector2( 1554, 328 )

[node name="SpawnPosition2" type="Position2D" parent="."]
position = Vector2( 670, 296 )

[node name="SpawnPosition3" type="Position2D" parent="."]
position = Vector2( 1127, 300 )

[node name="Box" parent="." instance=ExtResource( 3 )]
position = Vector2( 848, 648 )

[node name="Box2" parent="." instance=ExtResource( 3 )]
position = Vector2( 1341, 679 )

[node name="Box3" parent="." instance=ExtResource( 3 )]
position = Vector2( 168, 636 )

[node name="Rain" type="Particles2D" parent="."]
position = Vector2( 1020, -318 )
rotation = 0.0890118
scale = Vector2( 5, 5 )
emitting = false
amount = 150
lifetime = 2.5
speed_scale = 3.0
visibility_rect = Rect2( -100, 125, 200, 200 )
process_material = SubResource( 6 )
texture = ExtResource( 16 )

[node name="InGame" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 22 )
autoplay = true
bus = "Music"

[connection signal="pressed" from="GameControl/Control/time_Day" to="GameControl" method="_on_time_Day_pressed"]
[connection signal="pressed" from="GameControl/Control/time_Night" to="GameControl" method="_on_time_Night_pressed"]
[connection signal="pressed" from="GameControl/Control/weather_Sunny" to="GameControl" method="_on_weather_Sunny_pressed"]
[connection signal="pressed" from="GameControl/Control/weather_Rain" to="GameControl" method="_on_weather_Rain_pressed"]
[connection signal="pressed" from="GameControl/Control/weather_Thunderstorm" to="GameControl" method="_on_weather_Thunderstorm_pressed"]
[connection signal="pressed" from="GameControl/Control/Box_spawn" to="GameControl" method="_on_Box_spawn_pressed"]
[connection signal="pressed" from="GameControl/Control/Box_respawn" to="GameControl" method="_on_Box_respawn_pressed"]
[connection signal="pressed" from="GameControl/Control/Box_destroy" to="GameControl" method="_on_Box_destroy_pressed"]
[connection signal="timeout" from="GameControl/Timer" to="GameControl" method="_on_Timer_timeout"]
