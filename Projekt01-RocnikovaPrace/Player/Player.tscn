[gd_scene load_steps=74 format=2]

[ext_resource path="res://Player/States/Movement/Move/Idling/Idle2.png" type="Texture" id=1]
[ext_resource path="res://Player/player.gd" type="Script" id=2]
[ext_resource path="res://Player/States/Movement/Move/Idling/Idle3.png" type="Texture" id=3]
[ext_resource path="res://Player/States/Movement/Move/Idling/Idle4.png" type="Texture" id=4]
[ext_resource path="res://Player/States/Fight/Punch/OnGround/Punch01_2.png" type="Texture" id=5]
[ext_resource path="res://Player/States/Fight/Punch/OnGround/Punch01_1.png" type="Texture" id=6]
[ext_resource path="res://Player/States/Fight/Punch/OnGround/Punch01_4.png" type="Texture" id=7]
[ext_resource path="res://Player/States/Movement/Move/Running/Running1.png" type="Texture" id=8]
[ext_resource path="res://Player/States/Movement/Move/Idling/Idle1.png" type="Texture" id=9]
[ext_resource path="res://Player/States/Movement/Move/Running/Running4.png" type="Texture" id=10]
[ext_resource path="res://Player/States/Movement/Move/Running/Running5.png" type="Texture" id=11]
[ext_resource path="res://Player/States/Fight/Punch/OnGround/Punch01_3.png" type="Texture" id=12]
[ext_resource path="res://Player/States/Movement/Move/Running/Running6.png" type="Texture" id=13]
[ext_resource path="res://Player/States/Movement/Move/Running/Running2.png" type="Texture" id=14]
[ext_resource path="res://Font/default.theme" type="Theme" id=15]
[ext_resource path="res://Font/EnCzFont.ttf" type="DynamicFontData" id=16]
[ext_resource path="res://Player/States/Movement/Move/Running/Running3.png" type="Texture" id=17]
[ext_resource path="res://Player/States/Fight/Kick/Kick01_5.png" type="Texture" id=18]
[ext_resource path="res://Player/States/Fight/Kick/Kick01_2.png" type="Texture" id=19]
[ext_resource path="res://Player/States/Fight/Kick/Kick01_1.png" type="Texture" id=20]
[ext_resource path="res://Player/States/Movement/Jump/JumpingLoop/JumpingLoop1.png" type="Texture" id=21]
[ext_resource path="res://Player/States/Movement/Jump/JumpingLoop/JumpingLoop2.png" type="Texture" id=22]
[ext_resource path="res://Player/States/Fight/Kick/Kick01_3.png" type="Texture" id=23]
[ext_resource path="res://Player/States/Movement/Jump/FallingLoop/FallingLoop2.png" type="Texture" id=24]
[ext_resource path="res://Player/States/Movement/Jump/FallingLoop/FallingLoop3.png" type="Texture" id=25]
[ext_resource path="res://Player/States/Fight/Kick/Kick01_4.png" type="Texture" id=26]
[ext_resource path="res://Player/States/Movement/Jump/FallingLoop/FallingLoop1.png" type="Texture" id=27]
[ext_resource path="res://Player/States/Movement/Hit/Hit1.png" type="Texture" id=28]

[sub_resource type="RectangleShape2D" id=62]
extents = Vector2( 15, 42 )

[sub_resource type="RectangleShape2D" id=91]
extents = Vector2( 4, 42 )

[sub_resource type="RectangleShape2D" id=77]
extents = Vector2( 12, 16 )

[sub_resource type="RectangleShape2D" id=90]
extents = Vector2( 20.5, 18 )

[sub_resource type="Animation" id=25]
resource_name = "FallingLoop"
length = 0.45
loop = true
step = 0.05
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.15, 0.3 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 1,
"values": [ ExtResource( 27 ), ExtResource( 24 ), ExtResource( 25 ) ]
}

[sub_resource type="Animation" id=85]
resource_name = "Hit"
length = 0.25
step = 0.05
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ ExtResource( 28 ) ]
}

[sub_resource type="Animation" id=3]
resource_name = "Idling"
length = 0.6
loop = true
step = 0.05
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.15, 0.3, 0.45 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ ExtResource( 9 ), ExtResource( 1 ), ExtResource( 3 ), ExtResource( 4 ) ]
}

[sub_resource type="Animation" id=21]
resource_name = "JumpingLoop"
length = 0.3
loop = true
step = 0.05
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.15 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ ExtResource( 21 ), ExtResource( 22 ) ]
}

[sub_resource type="Animation" id=79]
resource_name = "Kick01"
length = 0.45
step = 0.025
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.075, 0.15, 0.25, 0.35 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ ExtResource( 20 ), ExtResource( 19 ), ExtResource( 23 ), ExtResource( 26 ), ExtResource( 18 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("../Punch01:monitoring")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}

[sub_resource type="Animation" id=71]
resource_name = "Punch01"
length = 0.46
loop = true
step = 0.005
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.06, 0.12, 0.165 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ ExtResource( 6 ), ExtResource( 5 ), ExtResource( 12 ), ExtResource( 7 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("../Punch01:monitoring")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0.06, 0.445, 0.45 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 1,
"values": [ true, true, false ]
}

[sub_resource type="Animation" id=7]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ null ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("AnimationPlayer:root_node")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ NodePath("..") ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("../Punch01:monitoring")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ true ]
}

[sub_resource type="Animation" id=5]
resource_name = "Running"
length = 0.6
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 0.4, 0.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ ExtResource( 8 ), ExtResource( 14 ), ExtResource( 17 ), ExtResource( 10 ), ExtResource( 11 ), ExtResource( 13 ) ]
}

[sub_resource type="AnimationNodeAnimation" id=67]
animation = "FallingLoop"

[sub_resource type="AnimationNodeAnimation" id=86]
animation = "Hit"

[sub_resource type="AnimationNodeAnimation" id=38]
animation = "Idling"

[sub_resource type="AnimationNodeTimeScale" id=49]

[sub_resource type="AnimationNodeBlendTree" id=39]
graph_offset = Vector2( -68, -18 )
nodes/Animation/node = SubResource( 38 )
nodes/Animation/position = Vector2( 80, 120 )
nodes/TimeScale/node = SubResource( 49 )
nodes/TimeScale/position = Vector2( 280, 120 )
nodes/output/position = Vector2( 480, 140 )
node_connections = [ "TimeScale", 0, "Animation", "output", 0, "TimeScale" ]

[sub_resource type="AnimationNodeAnimation" id=54]
animation = "JumpingLoop"

[sub_resource type="AnimationNodeAnimation" id=80]
animation = "Kick01"

[sub_resource type="AnimationNodeAnimation" id=72]
animation = "Punch01"

[sub_resource type="AnimationNodeAnimation" id=41]
animation = "Running"

[sub_resource type="AnimationNodeTimeScale" id=50]

[sub_resource type="AnimationNodeBlendTree" id=42]
graph_offset = Vector2( -112, 88 )
nodes/Running/node = SubResource( 41 )
nodes/Running/position = Vector2( 80, 120 )
nodes/TimeScale/node = SubResource( 50 )
nodes/TimeScale/position = Vector2( 300, 160 )
nodes/output/position = Vector2( 500, 140 )
node_connections = [ "TimeScale", 0, "Running", "output", 0, "TimeScale" ]

[sub_resource type="AnimationNodeStateMachineTransition" id=63]

[sub_resource type="AnimationNodeStateMachineTransition" id=64]

[sub_resource type="AnimationNodeStateMachineTransition" id=65]

[sub_resource type="AnimationNodeStateMachineTransition" id=66]

[sub_resource type="AnimationNodeStateMachineTransition" id=68]

[sub_resource type="AnimationNodeStateMachineTransition" id=69]

[sub_resource type="AnimationNodeStateMachineTransition" id=70]

[sub_resource type="AnimationNodeStateMachineTransition" id=73]

[sub_resource type="AnimationNodeStateMachineTransition" id=74]

[sub_resource type="AnimationNodeStateMachineTransition" id=75]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=76]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=81]

[sub_resource type="AnimationNodeStateMachineTransition" id=82]

[sub_resource type="AnimationNodeStateMachineTransition" id=83]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=84]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=87]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=88]

[sub_resource type="AnimationNodeStateMachine" id=12]
states/FallingLoop/node = SubResource( 67 )
states/FallingLoop/position = Vector2( 29, -31.395 )
states/Hit/node = SubResource( 86 )
states/Hit/position = Vector2( 508, 293.405 )
states/Idling/node = SubResource( 39 )
states/Idling/position = Vector2( 335, 127 )
states/JumpingLoop/node = SubResource( 54 )
states/JumpingLoop/position = Vector2( 261, -135.395 )
states/Kick01/node = SubResource( 80 )
states/Kick01/position = Vector2( 356, 435.605 )
states/Punch01/node = SubResource( 72 )
states/Punch01/position = Vector2( -144, 445.605 )
states/Running/node = SubResource( 42 )
states/Running/position = Vector2( 29, 127 )
transitions = [ "Idling", "Running", SubResource( 63 ), "Running", "Idling", SubResource( 64 ), "Running", "JumpingLoop", SubResource( 65 ), "Idling", "JumpingLoop", SubResource( 66 ), "JumpingLoop", "FallingLoop", SubResource( 68 ), "FallingLoop", "Idling", SubResource( 69 ), "FallingLoop", "Running", SubResource( 70 ), "Running", "Punch01", SubResource( 73 ), "Idling", "Punch01", SubResource( 74 ), "Punch01", "Idling", SubResource( 75 ), "Punch01", "Running", SubResource( 76 ), "Running", "Kick01", SubResource( 81 ), "Idling", "Kick01", SubResource( 82 ), "Kick01", "Running", SubResource( 83 ), "Kick01", "Idling", SubResource( 84 ), "Hit", "Idling", SubResource( 87 ), "Idling", "Hit", SubResource( 88 ) ]
start_node = "Idling"
end_node = "Idling"
graph_offset = Vector2( -531.688, -194.419 )

[sub_resource type="AnimationNodeStateMachinePlayback" id=13]

[sub_resource type="DynamicFont" id=94]
size = 40
font_data = ExtResource( 16 )

[sub_resource type="Animation" id=92]
resource_name = "NameTag"
length = 10.0
step = 0.05
tracks/0/type = "value"
tracks/0/path = NodePath(".:rect_scale")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5, 9.2, 9.7 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 1e-05, 1e-05 ), Vector2( 1.5, 1.5 ), Vector2( 1.75, 1.75 ), Vector2( 1e-05, 1e-05 ) ]
}

[sub_resource type="Animation" id=93]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:rect_scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ) ]
}

[node name="Player" type="KinematicBody2D" groups=["Players"]]
collision_mask = 4
script = ExtResource( 2 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2( 1, -6 )
shape = SubResource( 62 )

[node name="Left" type="Area2D" parent="."]
position = Vector2( -8, 0 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Left"]
position = Vector2( -6, -6 )
shape = SubResource( 91 )

[node name="Right" type="Area2D" parent="."]
position = Vector2( 12, 0 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Right"]
position = Vector2( 4, -6 )
shape = SubResource( 91 )

[node name="GroundCheck" type="RayCast2D" parent="."]
position = Vector2( -12, 36 )
scale = Vector2( 10, 5 )
enabled = true
cast_to = Vector2( 0, 2 )
collision_mask = 4

[node name="GroundCheck2" type="RayCast2D" parent="."]
position = Vector2( 12, 36 )
scale = Vector2( 10, 5 )
enabled = true
cast_to = Vector2( 0, 2 )
collision_mask = 4

[node name="Punch01" type="Area2D" parent="."]
collision_layer = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="Punch01"]
position = Vector2( 35, -16 )
shape = SubResource( 77 )

[node name="Kick01" type="Area2D" parent="."]
collision_layer = 32
collision_mask = 0
monitoring = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Kick01"]
position = Vector2( 43.5, 18 )
shape = SubResource( 90 )

[node name="PlayerSkin" type="Node2D" parent="."]

[node name="Sprite" type="Sprite" parent="PlayerSkin"]
scale = Vector2( 6, 6 )
texture = ExtResource( 4 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="PlayerSkin"]
reset_on_save = false
anims/FallingLoop = SubResource( 25 )
anims/Hit = SubResource( 85 )
anims/Idling = SubResource( 3 )
anims/JumpingLoop = SubResource( 21 )
anims/Kick01 = SubResource( 79 )
anims/Punch01 = SubResource( 71 )
anims/RESET = SubResource( 7 )
anims/Running = SubResource( 5 )

[node name="AnimationTree" type="AnimationTree" parent="PlayerSkin"]
tree_root = SubResource( 12 )
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/playback = SubResource( 13 )
parameters/Idling/TimeScale/scale = 1.0
parameters/Running/TimeScale/scale = 1.0

[node name="CenterContainer" type="CenterContainer" parent="."]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -256.0
margin_top = -256.0
margin_right = 256.0
margin_bottom = 88.0

[node name="NameTag" type="Label" parent="CenterContainer"]
margin_left = 131.0
margin_top = 47.0
margin_right = 381.0
margin_bottom = 297.0
rect_min_size = Vector2( 250, 250 )
rect_pivot_offset = Vector2( 125, 125 )
theme = ExtResource( 15 )
custom_fonts/font = SubResource( 94 )
text = "Řáďa"
align = 1
valign = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="CenterContainer/NameTag"]
autoplay = "NameTag"
anims/NameTag = SubResource( 92 )
anims/RESET = SubResource( 93 )

[connection signal="body_entered" from="Left" to="." method="_on_Left_body_entered"]
[connection signal="body_entered" from="Right" to="." method="_on_Right_body_entered"]
[connection signal="area_entered" from="Punch01" to="." method="_on_Punch01_area_entered"]
[connection signal="area_exited" from="Punch01" to="." method="_on_Punch01_area_exited"]
[connection signal="body_entered" from="Kick01" to="." method="_on_Punch01_body_entered"]
[connection signal="body_exited" from="Kick01" to="." method="_on_Punch01_body_exited"]
